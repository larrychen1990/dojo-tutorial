<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Node List</title>
<link rel="stylesheet" href="dijit/themes/claro/claro.css"/>
<script src="dojo/dojo.js" 
		data-dojo-config="async:true"></script>
<script>
// require(["dojo/query", "dojo/domReady!"], function(query){
//     query("#btn").on("click", function(){
//         var nodes = query("li.fresh");
//         nodes.on("click", function(){
//             alert("I love fresh " + this.innerHTML);
//         });
//     });
// });

// require(["dojo/query", "dojo/domReady!"], function(query){
//     query("#btn").on("click", function(){
//         query("li.fresh").on("click", function(event){
//             alert("I love fresh " + event.target.innerHTML);
//         });
//     });
// });

// // /Working with Styles and DOM
// require(["dojo/query", "dojo/NodeList-dom"], function(query){
//     query("li.fresh")
//         .addClass("fresher")
//         .attr("title", "freshened")
//         .style("background", "lightblue")
//         .on("click", function(){
//             alert("I love fresh " + this.innerHTML);
//         });
// });

// //Associating Data with Elements
// require(["dojo/query", "dojo/NodeList-data","dojo/parser", "dojo/domReady!"], function(query, NodeList,parser){
// 	function mark(){
//         var nodeList = new NodeList(this);      // make a new NodeList from the clicked element
//         nodeList.data("updated", new Date());   // update the 'updated' key for this element via the NodeList
//     }
     
//     query("li")                         // get all list items
//         .data("updated", new Date())    // set the initial data for each matching element
//         .on("click", mark);             // add the event handler
 
//     query("#btn").on("click", function(){
//         query("li").data("updated").forEach(function(date){
//             console.log(date.getTime());
//         });
//     });
// //    parser.parse();
// });

// //Moving Around the DOM
// require([
//          "dojo/query",
//          "dojo/NodeList-traverse",
//          "dojo/NodeList-dom", 
//         "dojo/domReady!"
//         ], function(query){
//     query("li.yum")             // get LI elements with the class 'yum'
//         .addClass("highlight")  // add a 'highlight' class to those LI elements
//         .closest(".fruitList")  // find the closest parent elements of those LIs with the class 'fruitList'
//         .prev()                 // get the previous sibling (headings in this case) of each of those fruitList elements
//         .addClass("happy")      // add a 'happy' class to those headings
//         .style({backgroundPosition: "left", paddingLeft: "20px"}); // add some style properties to those headings
// });


// require(["dojo/query", "dojo/NodeList-manipulate", "dojo/domReady!"],
// 		function(query){
// 		    query(".yum") // get elements with the class 'yum'
// 		        .clone() // create a new NodeList containing cloned copies of each element
// 		        .prepend('<span class="emoticon happy"></span>') // inject a span inside each of the cloned elements
// 		        .appendTo("#likes"); // insert the clones into the element with id 'likes'
		 
// 		    query(".yuck")
// 		        .clone()
// 		        .append('<span class="emoticon sad"></span>')
// 		        .appendTo("#dontLikes");
// 		});


require(["dojo/query", "dojo/_base/lang", "dijit/form/CheckBox", "dojo/NodeList-html","dojo/parser", "dojo/domReady!"], 
function(query, lang){
    var demo = {
        addCheckboxes: function(q) {
            query(q).html('<input name="fruit" value="" data-dojo-type="dijit/form/CheckBox">', {
                onBegin: function(){
                    var label = lang.trim(this.node.innerHTML), 
                        cont = this.content + label;
                    cont = cont.replace('value=""', 'value="'+lang.trim(this.node.innerHTML) + '"');
 
                    this.content = cont;
                    return this.inherited("onBegin", arguments);
                },
                parseContent: true
            });
        }
    }
 
    query("#btn").on("click", lang.hitch(demo, "addCheckboxes", "li.alkaline"));
});
</script>
</head>
<body class="claro">
	<button type="button" id="btn" data-dojo-type="dijit/form/Button">Pick out fresh fruits</button>
 
<h3>Fresh Fruits</h3>
<ul id="freshList"></ul>
 
<h3>Fruits</h3>
<ul>
    <li class="fresh">Apples</li>
    <li class="fresh">Persimmons</li>
    <li class="yum">Grapes</li>
    <li class="fresh">Fresh Figs</li>
    <li class="dried">Dates</li>
    <li class="dried">Raisins</li>
    <li class="dried">Prunes</li>
    <li class="fresh dried">Apricots</li>
    <li class="fresh">Peaches</li>
    <li class="fresh">Bananas</li>
    <li class="fresh">Cherries</li>
</ul>

</body>
</html>